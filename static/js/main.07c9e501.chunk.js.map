{"version":3,"sources":["store/index.js","store/actions.js","util.js","components/FileTable/index.js","components/File/index.js","components/FileGrid/index.js","components/Loader/index.js","components/NoFiles/index.js","components/Directory/index.js","components/Form/index.js","components/ActionModal/index.js","components/Banner/index.js","components/ProgressBar/index.js","components/Quota/index.js","App.js","index.js"],"names":["initialState","files","usageData","selectedFile","filesLoading","formLoading","modalLoading","layout","banner","message","type","createStore","state","arguments","length","undefined","action","Object","objectSpread","concat","payload","quota","used","size","deleted","filter","file","id","applyMiddleware","thunk","root","iconResolve","ext","FileTable","props","rowsMapped","map","react_default","a","createElement","onClick","selectFile","className","fileType","fileName","filesize","moment","dateUploaded","fromNow","File","slice","FileGrid","filesMapped","assign","loader","NoFiles","Directory","this","fetchFiles","_this","loading","components_NoFiles","changeLayout","class","renderFiles","React","Component","connect","dispatch","axios","get","then","res","data","catch","err","setTimeout","Form","e","setState","target","preventDefault","FormData","append","name","uploadFile","onSubmit","bind","onChange","fileChangeHandler","formData","post","response","status","ActionModal","unselectFile","window","open","_this$props$file","ReactDOM","createPortal","stopPropagation","Fragment","deleteFile","downloadFile","document","querySelector","delete","Banner","ProgressBar","proportionUsed","toFixed","width","style","Quota","_this$props$usageData","components_ProgressBar","App","components_ActionModal","components_Banner","components_Quota","components_Form","components_Directory","render","es","store","src_App","getElementById"],"mappings":"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","file":"static/js/main.07c9e501.chunk.js","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst initialState = {\n    files: [],\n    usageData: null,\n    selectedFile: null,\n    filesLoading: false,\n    formLoading: false,\n    modalLoading: false,\n    layout: 'table',\n    banner: {\n        message: null,\n        type: null\n    }\n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type) {\n        \n        case 'UPLOAD_FILE' :\n            return {\n                ...state,\n                files: state.files.concat(action.payload),\n                usageData: {\n                    quota: 10000000,\n                    used: state.usageData.used + action.payload.size\n                }\n            }\n            \n        case 'DELETE_FILE' :\n            const deleted = state.files.filter(file => file.id === action.payload)[0]\n            return {\n                ...state,\n                files: state.files.filter(file => file.id !== action.payload),\n                selectedFile: null,\n                usageData: {\n                    quota: 10000000,\n                    used: state.usageData.used - deleted.size\n                }\n            }\n        \n        case 'FETCH_FILES' :\n            return {\n                ...state, \n                files: action.payload.files,\n                usageData: action.payload.usageData\n            }\n            \n        case 'MODAL_LOADING' :\n            return {\n                ...state,\n                modalLoading: true\n            }\n            \n        case '!MODAL_LOADING' :\n            return {\n                ...state,\n                modalLoading: false,\n            }\n            \n        case 'FILES_LOADING' :\n            return {\n                ...state,\n                filesLoading: true\n            }\n            \n        case '!FILES_LOADING' :\n            return {\n                ...state,\n                filesLoading: false\n            }\n            \n        case 'FORM_LOADING' :\n            return {\n                ...state,\n                formLoading: true\n            }\n            \n        case '!FORM_LOADING' :\n            return {\n                ...state,\n                formLoading: false\n            }\n            \n        case 'SELECT_FILE' :\n            return {\n                ...state,\n                selectedFile: action.payload\n            }\n            \n        case 'UNSELECT_FILE' :\n            return {\n                ...state,\n                selectedFile: null\n            }\n            \n        case 'CHANGE_LAYOUT' :\n            return {\n                ...state,\n                layout: action.payload\n            }\n            \n        case 'SHOW_BANNER' :\n            return {\n                ...state,\n                banner: {\n                    message: action.payload.message,\n                    type: action.payload.type\n                }\n            }\n            \n        case 'RESET_BANNER' :\n            return {\n                ...state,\n                banner: {\n                    message: null,\n                    type: null\n                }\n            }\n            \n        default: \n            return state\n    }\n}\n\nexport default createStore(reducer, applyMiddleware(thunk));","import axios from 'axios'; \n\nconst root = 'https://cloud-box-api.herokuapp.com'\n// const root = 'https://news-agg-oliverbth05.c9users.io:8081'\n\nexport const fetchFiles = () => dispatch => {\n    dispatch({type: 'FILES_LOADING'})\n    axios.get(`${root}/files`)\n    .then(res => {\n        dispatch({type: '!FILES_LOADING'})\n        dispatch({type: 'FETCH_FILES', payload: res.data})\n    })\n    .catch(err => {\n        dispatch({type: '!FILES_LOADING'})\n        dispatch({type: 'SHOW_BANNER', payload: {message: 'Something went wrong on server', type: 'warning'}})\n        setTimeout(() => {\n            dispatch({type: 'RESET_BANNER'})\n        }, 2000)\n    })\n}\n \nexport const uploadFile = (formData) => dispatch => {\n    dispatch({type: 'FORM_LOADING'})\n    axios.post(`${root}/new`, formData)\n    .then(res => {\n        dispatch({type: 'UPLOAD_FILE', payload: res.data})\n        dispatch({type: 'SHOW_BANNER', payload: {message: 'File Uploaded Successfully', type: 'success'}})\n        dispatch({type: '!FORM_LOADING'})\n        setTimeout(() => {\n            dispatch({type: 'RESET_BANNER'})\n        }, 2000)\n    })\n    .catch(err => {\n        \n        if (err.response) {\n            if (err.response.status === 500) {\n                dispatch({type: '!FORM_LOADING'})\n                dispatch({type: 'SHOW_BANNER', payload: {message: 'Something went wrong on server', type: 'warning'}})\n                setTimeout(() => {\n                    dispatch({type: 'RESET_BANNER'})\n                }, 2000)\n            }\n            \n            if (err.response.status === 400) {\n                dispatch({type: '!FORM_LOADING'})\n                dispatch({type: 'SHOW_BANNER', payload: {message: 'Quota exceeded', type: 'warning'}})\n                setTimeout(() => {\n                    dispatch({type: 'RESET_BANNER'})\n                }, 2000)\n            }\n        }\n        \n        else {\n            dispatch({type: '!FORM_LOADING'})\n            dispatch({type: 'SHOW_BANNER', payload: {message: 'Something went wrong', type: 'warning'}})\n            setTimeout(() => {\n                dispatch({type: 'RESET_BANNER'})\n            }, 2000)\n        }\n    })\n}\n\nexport const deleteFile = id => dispatch => {\n    dispatch({type: 'MODAL_LOADING'})\n    axios.delete(`${root}/download/${id}`)\n    .then(res => {\n        dispatch({type: '!MODAL_LOADING'})\n        dispatch({type: 'DELETE_FILE', payload: id})\n        dispatch({type: 'SHOW_BANNER', payload: {message: 'File Deleted Successfully', type: 'success'}})\n        setTimeout(() => {\n            dispatch({type: 'RESET_BANNER'})\n        }, 2000)\n    })\n    .catch(err => {\n        dispatch({type: '!MODAL_LOADING'})\n        dispatch({type: 'UNSELECT_FILE'})\n        dispatch({type: 'SHOW_BANNER', payload: {message: 'Something went wrong', type: 'warning'}})\n        setTimeout(() => {\n            dispatch({type: 'RESET_BANNER'})\n        }, 2000)\n    })\n}\n\nexport const changeLayout = layout => {\n    return ({type: 'CHANGE_LAYOUT', payload: layout})\n}\n\nexport const selectFile = file => {\n    return ({type: 'SELECT_FILE', payload: file})\n}\n\nexport const unselectFile = () => {\n    return ({type: 'UNSELECT_FILE'})\n}","export const iconResolve = (ext) => {\n    switch(ext) {\n        case ('.svg' || '.png' || '.jpg' || '.jpeg' || '.svg' || '.ico') :\n            return 'fas fa-file-image'\n        \n        case ('.mp3' || '.flac' || '.aac' || '.wav' || '.ogg' ) :\n            return 'fas fa-file-audio'\n        \n        case ('.flv' || '.mp4' ):\n            return 'fas fa-file-video'\n            \n        case ('.docx' ):\n            return 'fas fa-file-word'\n        \n        case ('.pptx' ):\n            return 'fas fa-file-powerpoint'\n        \n        case ('.xlsx' ):\n            return 'fas fa-file-excel'\n            \n        case ('.csv' ):\n            return 'fas fa-file-csv'\n            \n        case ('.pdf' ):\n            return 'fas fa-file-pdf'\n            \n        case ('.css' || '.scss' || '.js' || '.html' ):\n            return 'fas fa-file-code'\n            \n        case ('.txt' ):\n            return 'fas fa-file-alt'\n            \n        default :\n            return 'fas fa-file'\n    }\n}","import React from 'react';\nimport filesize from 'filesize';\nimport moment from 'moment';\n\nimport { iconResolve } from '../../util';\n\n\nexport default function FileTable(props) {\n\n    const rowsMapped = props.files.map(file => {\n        return (\n            <tr onClick = {() => {props.selectFile(file)}}>\n                <td><i className = {iconResolve(file.fileType)}></i> {file.fileName}</td>\n                <td>{file.fileType}</td>\n                <td>{filesize(file.size)}</td>\n                <td>{ new moment(file.dateUploaded).fromNow() }</td>\n            </tr>\n        )\n    })\n    \n    return (\n        <div className = 'file-container'>\n            <table className = 'file-table'>\n                <th>Name</th>\n                <th>Type</th>\n                <th>Size</th>\n                <th>Date Added</th>\n                {rowsMapped}\n            </table>\n        </div>\n    )\n}","import React from 'react';\nimport filesize from 'filesize';\nimport { iconResolve } from '../../util';\n\nexport default function File(props) {\n    return (\n        <div className = 'file' onClick = {() => {props.selectFile({...props})}}>\n            <i className = {iconResolve(props.fileType)}></i>\n            <p className = 'file__name'>{`${props.fileName.slice(0 ,15)}...`}</p>\n            <p className = 'file__size'>{filesize(props.size)}</p>\n        </div>\n    )    \n}","import React from 'react';\nimport File from '../File';\n\nexport default function FileGrid(props) {\n    \n    const filesMapped = props.files.map(file => {\n        return <File selectFile = {props.selectFile} {...file} />\n    })\n    \n    return (\n        <div className = 'file-grid'>\n            {filesMapped}\n        </div>\n    )\n}","import React from 'react';\n\nexport default function loader (props) {\n    return <div className = 'loader__container'><div className = 'loader'></div></div>\n}","import React from 'react';\n\nconst NoFiles = () => {\n    return (\n    \n        <div className = 'nofiles'>\n            <h3>Your file directory is empty.</h3>\n            <p>To get started, try uploading some files</p>\n        </div>\n        \n    )\n}\n\nexport default NoFiles;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchFiles, changeLayout, selectFile } from '../../store/actions';\n\nimport FileTable from '../FileTable';\nimport FileGrid from '../FileGrid';\nimport Loader from '../Loader';\nimport NoFiles from '../NoFiles';\n\nclass Directory extends React.Component {\n    \n    componentDidMount() {\n        this.props.fetchFiles()\n    }\n\n    renderFiles() {\n        if (this.props.layout === 'table') {\n            return <FileTable selectFile = {this.props.selectFile} files = {this.props.files}/>\n        }\n        else {\n            return <FileGrid selectFile = {this.props.selectFile} files = {this.props.files} />\n        }\n    }\n    \n    render() { \n        \n        if (this.props.loading) return <Loader />\n        if (this.props.files.length === 0) return <NoFiles />\n        \n        return (\n            <section className = 'directory-section'>\n                <h3>Your Files</h3>\n                <div className = 'directory-buttons'>\n                    <button onClick = {() => {this.props.changeLayout('table')}} className = {this.props.layout === 'table' ? 'directory-button-active' : ''} ><i class=\"fas fa-table\"></i></button>\n                    <button onClick = {() => {this.props.changeLayout('grid')}} className = {this.props.layout === 'grid' ? 'directory-button-active' : ''}><i class=\"fas fa-th-large\"></i></button>\n                </div>\n                {this.renderFiles()}\n            </section>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    files: state.files,\n    loading: state.filesLoading,\n    layout: state.layout\n})\n\nexport default connect(mapStateToProps, {fetchFiles, changeLayout, selectFile})(Directory);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { uploadFile } from '../../store/actions';\n\nimport Loader from '../Loader';\n\nclass Form extends React.Component {\n    \n    state = {\n        file: null\n    }\n    \n    fileChangeHandler(e) {\n        this.setState({\n            file: e.target.files[0]\n        })\n    }\n    \n    uploadFile(e) { \n        e.preventDefault();\n        if (this.state.file) {\n            const data = new FormData();\n            data.append('file', this.state.file);\n            data.append('fieldName', this.state.file.name);\n            data.append('size', this.state.file.size);\n           this.props.uploadFile(data)\n           \n           this.setState({\n               file: null\n           })\n        }\n    }\n    \n    render() {\n        return (\n            <section className = 'form-section'>\n                { !this.props.loading ? \n                <div className = 'form-container'>\n                    <h3>Upload a new file</h3>\n                    <form onSubmit = {this.uploadFile.bind(this)}>\n                        <input type = 'file' onChange = {this.fileChangeHandler.bind(this)}/>\n                        <button type = 'submit'><i class=\"fas fa-cloud-upload-alt\"></i> Upload</button>\n                    </form>\n                </div>\n                :\n                <Loader /> \n                }   \n            </section>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({ \n    loading: state.formLoading\n})\n\nexport default connect(mapStateToProps, {uploadFile})(Form);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { iconResolve } from '../../util';\nimport filesize from 'filesize';\nimport Loader from '../Loader';\nimport { connect } from 'react-redux';\nimport { unselectFile, deleteFile } from '../../store/actions';\n\nclass ActionModal extends React.Component {\n    \n    unselectFile(e) {\n        if (!this.props.loading) {\n            this.props.unselectFile();\n        }\n    } \n    \n    downloadFile(id) {\n        window.open(`https://cloud-box-api.herokuapp.com/download/${id}`)\n        this.props.unselectFile();\n    }\n    \n    render() {\n        if (!this.props.file) return null\n        const {fileType, fileName, size, id} = this.props.file\n        return ReactDOM.createPortal(\n            <div className = 'action-modal__backdrop' onClick = {this.unselectFile.bind(this)}>\n                <div className = 'action-modal' onClick = {(e) => {e.stopPropagation()}}>\n                    { !this.props.loading ?\n                    <React.Fragment>\n                        <i className = {`${iconResolve(fileType)} action-modal__icon`}></i>\n                        <h3>{fileName}</h3>\n                        <p>{filesize(size)}</p>\n                        \n                        <div className = 'action-modal__buttons'>\n                            <button className = 'button-delete' onClick = {() => {this.props.deleteFile(id)}}>Delete</button>\n                            <button className = 'button-download' onClick = {() => {this.downloadFile(id)}}><i class=\"fas fa-cloud-upload-alt\"></i> Download</button>\n                        </div>\n                    </React.Fragment>\n                    : <Loader /> }\n                    \n                </div>\n            </div>, document.querySelector('#modal')\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    file: state.selectedFile,\n    loading: state.modalLoading\n})\n\nexport default connect(mapStateToProps, {unselectFile, deleteFile})(ActionModal);","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Banner = props => {\n    \n    if (!props.message) return null\n    \n    return ReactDOM.createPortal(\n        <div className = {props.type === 'success' ? 'banner banner-success' : 'banner banner-warning'}>\n            <h1>{props.type === 'success' ? <i class=\"fas fa-check-circle\"></i> : <i class=\"fas fa-exclamation-circle\"></i> } {props.message}</h1>\n        </div>, document.querySelector('#banner')\n    )\n    \n}\n\nexport default Banner;","import React from 'react';\n\nconst ProgressBar = props => {\n    const {quota, used} = props;\n    const proportionUsed = ((used / quota) * 100).toFixed(2);\n    \n    const width = {\n        width: `${proportionUsed}%`\n    }\n    \n    return (\n        <div className = 'progress-bar__container'>\n            <div className = 'progress-bar__outer'>\n                <div className = 'progress-bar__inner' style = {width}></div>\n                <h3>{proportionUsed}%</h3>\n            </div>\n        </div>\n    )\n}\n\nexport default ProgressBar","import React from 'react';\nimport ProgressBar from '../ProgressBar';\nimport Loader from '../Loader';\nimport filesize from 'filesize';\n\nimport { connect } from 'react-redux';\n\nclass Quota extends React.Component {\n    \n    \n    \n    render() {\n        if (!this.props.usageData) return <div className = 'quota-section'><Loader /></div>\n        \n        const {quota, used} = this.props.usageData\n        \n        return (\n            <div className = 'quota-section'>\n                <h3>Usage Stats</h3>\n                <p>{filesize(used)} out of {filesize(quota)} used.</p>\n                <ProgressBar {...this.props.usageData} />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    usageData: state.usageData\n})\n\nexport default connect(mapStateToProps, {})(Quota);","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Directory from './components/Directory';\nimport Form from './components/Form';\nimport ActionModal from './components/ActionModal';\nimport Banner from './components/Banner';\nimport Quota from './components/Quota';\n\nclass App extends React.Component {\n    render() {\n        return (\n            <div>\n                <ActionModal />\n                <Banner {...this.props.banner}/>\n                <div className = 'heading'>\n                    <h1 className = 'logo'><i class=\"fas fa-cloud\"></i> Cloud Box <span>V1</span></h1>\n                    <p className = 'about'>The files in the directory will periodically be reset, and the quota has been arbitrarily set to 9.54MB</p>\n                </div>\n                <div className = 'flex-2'>\n                    <Quota />\n                    <Form />\n                </div>\n                <Directory />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    banner: state.banner,\n})\n\nexport default connect(mapStateToProps, null)(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './index.scss';\nimport App from './App';\n\n\nReactDOM.render(<Provider store = {store}><App /></Provider>, document.getElementById('root'));"],"sourceRoot":""}